# https://github.com/siemens/kas/blob/master/docs/userguide.rst
header:
  version: 18

distro: picocalc-distro

# scarthgap checkout
repos:
  poky:
    url: https://git.yoctoproject.org/poky.git
    commit: fa7bc4c1a8e1e59d57e6deeaf74f7784975ab9b4
    layers:
      meta:
      meta-poky:
  meta-openembedded:
    url: https://github.com/openembedded/meta-openembedded.git
    commit: e92d0173a80ea7592c866618ef5293203c50544c
    layers:
      meta-oe:
      meta-python:
      meta-networking:
      meta-filesystems:
  meta-picocalc:
    layers:
      meta-picocalc-bsp:
      meta-picocalc-distro:


local_conf_header:
  standard: |
    PATCHRESOLVE = "noop"
    PACKAGE_CLASSES = "package_ipk"
    RM_OLD_IMAGE = "1"
    INHERIT += "rm_work"
    KERNEL_CLASSES += "kernel-fitimage"
    KERNEL_IMAGETYPES += "fitImage"
  diskmon: |
    BB_DISKMON_DIRS ??= "\
        STOPTASKS,${TMPDIR},1G,100K \
        STOPTASKS,${DL_DIR},1G,100K \
        STOPTASKS,${SSTATE_DIR},1G,100K \
        STOPTASKS,/tmp,100M,100K \
        HALT,${TMPDIR},100M,1K \
        HALT,${DL_DIR},100M,1K \
        HALT,${SSTATE_DIR},100M,1K \
        HALT,/tmp,10M,1K"
